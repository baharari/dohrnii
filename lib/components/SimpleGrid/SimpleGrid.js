var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _providers=require("../../providers");var _styles=_interopRequireDefault(require("./styles"));var _types=require("./types");var _jsxRuntime=require("react/jsx-runtime");var _excluded=["cols","gap","rowGap","columnGap","style","children"];var _this=this,_jsxFileName="/Users/limonagaci/Desktop/app/dohrnii/src/components/SimpleGrid/SimpleGrid.js";var SimpleGrid=function SimpleGrid(props){var _useTheme=(0,_providers.useTheme)(),themeMode=_useTheme.theme;var styles=(0,_styles.default)();var _SimpleGridDefaultPro=Object.assign({},_types.SimpleGridDefaultProps,props),cols=_SimpleGridDefaultPro.cols,gap=_SimpleGridDefaultPro.gap,rowGap=_SimpleGridDefaultPro.rowGap,columnGap=_SimpleGridDefaultPro.columnGap,style=_SimpleGridDefaultPro.style,children=_SimpleGridDefaultPro.children,rest=(0,_objectWithoutProperties2.default)(_SimpleGridDefaultPro,_excluded);var _React$useState=_react.default.useState(0),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),containerWidth=_React$useState2[0],setContainerWidth=_React$useState2[1];var spacing=(themeMode==null?void 0:themeMode.spacing)||{};var resolveSpace=function resolveSpace(value){var _ref,_spacing$value;if(value===null||value===undefined)return undefined;if(typeof value==='number')return value;var aliasMap={sm:spacing.s,md:spacing.m,lg:spacing.l};return(_ref=(_spacing$value=spacing[value])!=null?_spacing$value:aliasMap[value])!=null?_ref:spacing.m;};var g=resolveSpace(gap);var rg=resolveSpace(rowGap!==undefined?rowGap:g);var cg=resolveSpace(columnGap!==undefined?columnGap:g);var containerStyle=[styles.container,style];var percent=cols>0?100/cols:100;var itemWidth=containerWidth>0?(containerWidth-(cg||0)*(cols-1))/cols:undefined;var wrappedChildren=_react.default.Children.map(children,function(child,index){if(!child)return null;var isLastInRow=(index+1)%cols===0;var widthStyle=itemWidth!==undefined?{width:itemWidth}:{width:`${percent}%`};var horizontalGap=itemWidth!==undefined?isLastInRow?0:cg||0:0;return(0,_jsxRuntime.jsx)(_reactNative.View,{style:[widthStyle,{marginRight:horizontalGap,marginBottom:rg||0}],children:child});});return(0,_jsxRuntime.jsx)(_reactNative.View,Object.assign({style:containerStyle,onLayout:function onLayout(e){return setContainerWidth(e.nativeEvent.layout.width);}},rest,{children:wrappedChildren}));};SimpleGrid.propTypes=_types.SimpleGridPropTypes;SimpleGrid.defaultProps=_types.SimpleGridDefaultProps;var _default=exports.default=SimpleGrid;
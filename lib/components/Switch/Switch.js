var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _Text=_interopRequireDefault(require("../Text/Text"));var _providers=require("../../providers");var _theme=require("../../theme");var _styles=_interopRequireDefault(require("./styles"));var _types=require("./types");var _constants=require("./constants");var _jsxRuntime=require("react/jsx-runtime");var _excluded=["checked","onChange","theme","onColor","offColor","size","borderRadius","label","thumbIcon","style","labelStyle"];var _this=this,_jsxFileName="/Users/limonagaci/Desktop/app/dohrnii/src/components/Switch/Switch.js";function _interopRequireWildcard(e,t){if("function"==typeof WeakMap)var r=new WeakMap(),n=new WeakMap();return(_interopRequireWildcard=function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f);}for(var _t in e)"default"!==_t&&{}.hasOwnProperty.call(e,_t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,_t))&&(i.get||i.set)?o(f,_t,i):f[_t]=e[_t]);return f;})(e,t);}var Switch=function Switch(props){var _themeMode$colors,_themeMode$colors2,_themeMode$colors3;var _useTheme=(0,_providers.useTheme)(),themeMode=_useTheme.theme;var styles=(0,_styles.default)(themeMode);var _SwitchDefaultProps$p=Object.assign({},_types.SwitchDefaultProps,props),checked=_SwitchDefaultProps$p.checked,onChange=_SwitchDefaultProps$p.onChange,theme=_SwitchDefaultProps$p.theme,onColor=_SwitchDefaultProps$p.onColor,offColor=_SwitchDefaultProps$p.offColor,size=_SwitchDefaultProps$p.size,borderRadius=_SwitchDefaultProps$p.borderRadius,label=_SwitchDefaultProps$p.label,thumbIcon=_SwitchDefaultProps$p.thumbIcon,style=_SwitchDefaultProps$p.style,labelStyle=_SwitchDefaultProps$p.labelStyle,rest=(0,_objectWithoutProperties2.default)(_SwitchDefaultProps$p,_excluded);var metrics=_constants.SWITCH_METRICS[size]||_constants.SWITCH_METRICS[_constants.SWITCH_SIZES.MD];var trackWidth=metrics.trackWidth,trackHeight=metrics.trackHeight,padding=metrics.padding,thumbSize=metrics.thumbSize;var maxTranslate=trackWidth-thumbSize-padding;var resolvedOnColor=onColor?(0,_theme.processColorValue)(onColor):(themeMode==null||(_themeMode$colors=themeMode.colors)==null||(_themeMode$colors=_themeMode$colors[theme])==null?void 0:_themeMode$colors[5])||(themeMode==null||(_themeMode$colors2=themeMode.colors)==null||(_themeMode$colors2=_themeMode$colors2.primary)==null?void 0:_themeMode$colors2[5]);var resolvedOffColor=offColor?(0,_theme.processColorValue)(offColor):themeMode==null||(_themeMode$colors3=themeMode.colors)==null||(_themeMode$colors3=_themeMode$colors3.gray)==null?void 0:_themeMode$colors3[1];var translateX=(0,_react.useRef)(new _reactNative.Animated.Value(checked?maxTranslate:padding)).current;(0,_react.useEffect)(function(){_reactNative.Animated.timing(translateX,{toValue:checked?maxTranslate:padding,duration:150,useNativeDriver:true}).start();},[checked,maxTranslate,translateX]);var handleToggle=function handleToggle(){if(onChange)onChange(!checked);};return(0,_jsxRuntime.jsxs)(_reactNative.Pressable,Object.assign({onPress:handleToggle,style:[styles.container,style]},rest,{children:[(0,_jsxRuntime.jsx)(_reactNative.Pressable,{activeOpacity:0.7,onPress:handleToggle,accessibilityRole:"switch",accessibilityState:{checked:checked},style:[styles.row,{width:trackWidth,height:trackHeight,borderRadius:borderRadius,backgroundColor:checked?resolvedOnColor:resolvedOffColor}],children:(0,_jsxRuntime.jsx)(_reactNative.Animated.View,{style:[styles.thumbBase,{width:thumbSize,height:thumbSize,borderRadius:borderRadius,transform:[{translateX:translateX}]}],children:thumbIcon||null})}),label?typeof label==='string'?(0,_jsxRuntime.jsx)(_Text.default,{style:[styles.label,labelStyle],children:label}):label:null]}));};Switch.propTypes=_types.SwitchPropTypes;Switch.defaultProps=_types.SwitchDefaultProps;var _default=exports.default=Switch;